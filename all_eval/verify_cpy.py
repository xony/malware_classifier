#!/usr/bin/env python
# encoding: utf-8

import time
import subprocess
import os, re
import select
import signal
from shutil import copyfile

src_dir = "/media/data/malware_samples_virustotal"
dst_dir = "/media/data/samples/malicious"
found2 = {}
filename_to_dir = {}

# first get all the files in the sample dir
malicious_samples = []
for dirname in os.listdir(src_dir):
    if os.path.isdir(src_dir + "/" + dirname):
        found2[dirname]=0
        for filename in os.listdir(src_dir + "/" + dirname):
            filename_to_dir[filename + ".apk"] = dirname
        #for i in range(2):
        #    copyfile(src_dir + "/" + dirname + "/" + current_files[i], dst_dir + "/" + current_files[i])

for filename in os.listdir(dst_dir):
    found2[ filename_to_dir[filename] ] += 1

for k, v in found2.iteritems():
    if v != 2:
        print "only found ", v, " samples of ", k
